/* global rrule */

const sample_data = {
  cal: {
    additionalMeetings: [],
    courses: [
      {
        calendarStrings: {
          dtEnd: "20230118T131000",
          dtStamp: "20230327T012753",
          dtStart: "20230118T122000",
          exDates: [
            "20230116T122000",
            "20230306T122000",
            "20230308T122000",
            "20230310T122000",
            "20230503T122000",
            "20230505T122000",
          ],
          rRule: "FREQ=WEEKLY;WKST=SU;UNTIL=20230508T235900;BYDAY=MO,WE,FR",
          uID: "1233-55334-ybsz8mrb31@umn.lol",
        },
        courseName: "STAT 3021",
        courseNum: "55334",
        dateRange: ["2023-01-17T00:00:00.000Z", "2023-05-08T00:00:00.000Z"],
        daysOfWeek: [false, true, false, true, false, true, false],
        excludedDates: [
          "2023-01-16T00:00:00.000Z",
          "2023-03-06T00:00:00.000Z",
          "2023-03-08T00:00:00.000Z",
          "2023-03-10T00:00:00.000Z",
          "2023-05-03T00:00:00.000Z",
          "2023-05-05T00:00:00.000Z",
        ],
        firstDate: "2023-01-18T00:00:00.000Z",
        institution: "UMNTC",
        meetingType: "Lecture",
        prettyName: "Intro to Prob&Stat",
        room: "Amundson Hall B75",
        sectionID: "004",
        term: "1233",
        timeRange: "12:20 PM - 01:10 PM",
      },
      {
        calendarStrings: {
          dtEnd: "20230118T141500",
          dtStamp: "20230327T012753",
          dtStart: "20230118T132500",
          exDates: [
            "20230116T132500",
            "20230306T132500",
            "20230308T132500",
            "20230310T132500",
            "20230503T132500",
            "20230505T132500",
          ],
          rRule: "FREQ=WEEKLY;WKST=SU;UNTIL=20230501T235900;BYDAY=MO,WE,FR",
          uID: "1233-59511-1x3iea6p8p@umn.lol",
        },
        courseName: "CSCI 2041",
        courseNum: "59511",
        dateRange: ["2023-01-17T00:00:00.000Z", "2023-05-01T00:00:00.000Z"],
        daysOfWeek: [false, true, false, true, false, true, false],
        excludedDates: [
          "2023-01-16T00:00:00.000Z",
          "2023-03-06T00:00:00.000Z",
          "2023-03-08T00:00:00.000Z",
          "2023-03-10T00:00:00.000Z",
          "2023-05-03T00:00:00.000Z",
          "2023-05-05T00:00:00.000Z",
        ],
        firstDate: "2023-01-18T00:00:00.000Z",
        institution: "UMNTC",
        meetingType: "Lecture",
        prettyName: "Adv. Programming Principles",
        room: "Bruininks Hall 230",
        sectionID: "001",
        term: "1233",
        timeRange: "01:25 PM - 02:15 PM",
      },
      {
        calendarStrings: {
          dtEnd: "20230118T152000",
          dtStamp: "20230327T012753",
          dtStart: "20230118T143000",
          exDates: [
            "20230116T143000",
            "20230306T143000",
            "20230308T143000",
            "20230310T143000",
            "20230503T143000",
            "20230505T143000",
          ],
          rRule: "FREQ=WEEKLY;WKST=SU;UNTIL=20230501T235900;BYDAY=MO,WE,FR",
          uID: "1233-59443-lqbvumk0ap@umn.lol",
        },
        courseName: "CSCI 1913",
        courseNum: "59443",
        dateRange: ["2023-01-17T00:00:00.000Z", "2023-05-01T00:00:00.000Z"],
        daysOfWeek: [false, true, false, true, false, true, false],
        excludedDates: [
          "2023-01-16T00:00:00.000Z",
          "2023-03-06T00:00:00.000Z",
          "2023-03-08T00:00:00.000Z",
          "2023-03-10T00:00:00.000Z",
          "2023-05-03T00:00:00.000Z",
          "2023-05-05T00:00:00.000Z",
        ],
        firstDate: "2023-01-18T00:00:00.000Z",
        institution: "UMNTC",
        meetingType: "Lecture",
        prettyName: "Intro to Algs. & Program Dev.",
        room: "Bruininks Hall 220",
        sectionID: "001",
        term: "1233",
        timeRange: "02:30 PM - 03:20 PM",
      },
      {
        calendarStrings: {
          dtEnd: "20230118T162500",
          dtStamp: "20230327T012753",
          dtStart: "20230118T153500",
          exDates: [
            "20230116T153500",
            "20230306T153500",
            "20230308T153500",
            "20230310T153500",
            "20230503T153500",
            "20230505T153500",
          ],
          rRule: "FREQ=WEEKLY;WKST=SU;UNTIL=20230501T235900;BYDAY=MO,WE,FR",
          uID: "1233-60000-g7cqokqhgz@umn.lol",
        },
        courseName: "CSCI 2011",
        courseNum: "60000",
        dateRange: ["2023-01-17T00:00:00.000Z", "2023-05-01T00:00:00.000Z"],
        daysOfWeek: [false, true, false, true, false, true, false],
        excludedDates: [
          "2023-01-16T00:00:00.000Z",
          "2023-03-06T00:00:00.000Z",
          "2023-03-08T00:00:00.000Z",
          "2023-03-10T00:00:00.000Z",
          "2023-05-03T00:00:00.000Z",
          "2023-05-05T00:00:00.000Z",
        ],
        firstDate: "2023-01-18T00:00:00.000Z",
        institution: "UMNTC",
        meetingType: "Lecture",
        prettyName: "Disc. Structures",
        room: "Amundson Hall B75",
        sectionID: "020",
        term: "1233",
        timeRange: "03:35 PM - 04:25 PM",
      },
      {
        calendarStrings: {
          dtEnd: "20230117T141500",
          dtStamp: "20230327T012753",
          dtStart: "20230117T132500",
          exDates: ["20230307T132500", "20230502T132500"],
          rRule: "FREQ=WEEKLY;WKST=SU;UNTIL=20230501T235900;BYDAY=TU",
          uID: "1233-59517-sqiq10ggwk@umn.lol",
        },
        courseName: "CSCI 2041",
        courseNum: "59517",
        dateRange: ["2023-01-17T00:00:00.000Z", "2023-05-01T00:00:00.000Z"],
        daysOfWeek: [false, false, true, false, false, false, false],
        excludedDates: ["2023-03-07T00:00:00.000Z", "2023-05-02T00:00:00.000Z"],
        firstDate: "2023-01-17T00:00:00.000Z",
        institution: "UMNTC",
        meetingType: "Laboratory",
        prettyName: "Adv. Programming Principles",
        room: "Keller Hall 1-250",
        sectionID: "007",
        term: "1233",
        timeRange: "01:25 PM - 02:15 PM",
      },
      {
        calendarStrings: {
          dtEnd: "20230117T162500",
          dtStamp: "20230327T012753",
          dtStart: "20230117T143000",
          exDates: ["20230307T143000", "20230502T143000"],
          rRule: "FREQ=WEEKLY;WKST=SU;UNTIL=20230501T235900;BYDAY=TU",
          uID: "1233-59444-9unlln6g8f@umn.lol",
        },
        courseName: "CSCI 1913",
        courseNum: "59444",
        dateRange: ["2023-01-17T00:00:00.000Z", "2023-05-01T00:00:00.000Z"],
        daysOfWeek: [false, false, true, false, false, false, false],
        excludedDates: ["2023-03-07T00:00:00.000Z", "2023-05-02T00:00:00.000Z"],
        firstDate: "2023-01-17T00:00:00.000Z",
        institution: "UMNTC",
        meetingType: "Laboratory",
        prettyName: "Intro to Algs. & Program Dev.",
        room: "Walter Library 106",
        sectionID: "003",
        term: "1233",
        timeRange: "02:30 PM - 04:25 PM",
      },
      {
        calendarStrings: {
          dtEnd: "20230117T173000",
          dtStamp: "20230327T012753",
          dtStart: "20230117T164000",
          exDates: ["20230307T164000", "20230502T164000"],
          rRule: "FREQ=WEEKLY;WKST=SU;UNTIL=20230501T235900;BYDAY=TU",
          uID: "1233-60005-2krzqiuy5g@umn.lol",
        },
        courseName: "CSCI 2011",
        courseNum: "60005",
        dateRange: ["2023-01-17T00:00:00.000Z", "2023-05-01T00:00:00.000Z"],
        daysOfWeek: [false, false, true, false, false, false, false],
        excludedDates: ["2023-03-07T00:00:00.000Z", "2023-05-02T00:00:00.000Z"],
        firstDate: "2023-01-17T00:00:00.000Z",
        institution: "UMNTC",
        meetingType: "Discussion",
        prettyName: "Disc. Structures",
        room: "Lind Hall L120",
        sectionID: "023",
        term: "1233",
        timeRange: "04:40 PM - 05:30 PM",
      },
    ],
  },
};

function getClasses(cal) {
  const classes = [];
  cal.forEach((c) => {
    const {
      courseName,
      courseNum,
      sectionID,
      prettyName,
      meetingType,
      timeRange,
      room,
      daysOfWeek,
      excludedDates,
      dateRange,
      firstDate,
      calendarStrings,
    } = c;
    const classObj = {
      courseName,
      courseNum,
      sectionID,
      prettyName,
      meetingType,
      timeRange,
      room,
      daysOfWeek,
      excludedDates,
      dateRange,
      firstDate,
      calendarStrings,
    };
    classes.push(classObj);
  });
  return classes;
}

chrome.storage.sync.get(["cal"], (result) => {
  const { cal } = result;
  console.log(cal);

  rrule;
});
